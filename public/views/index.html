<!DOCTYPE html>
<html ng-app="ssmnApp">
  <head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic" />
    <link href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,700,700i,900" rel="stylesheet" />
    <link rel="stylesheet" href="vendors/angular-material/angular-material.min.css" />
    <link rel="stylesheet" href="styles/stylesheet.css" />

    <script src="vendors/angular/angular.min.js" charset="utf-8"></script>
    <script src="vendors/angular-route/angular-route.min.js" charset="utf-8"></script>
    <script src="vendors/angular-material/angular-material.min.js" charset="utf-8"></script>
    <script src="vendors/angular-messages/angular-messages.min.js" charset="utf-8"></script>
    <script src="vendors/angular-animate/angular-animate.min.js" charset="utf-8"></script>
    <script src="vendors/angular-aria/angular-aria.min.js" charset="utf-8"></script>
    <script src="vendors/d3/d3.min.js"></script>

    <script src="scripts/ssmnApp.module.js" charset="utf-8"></script>
    <script src="scripts/ssmnApp.config.js" charset="utf-8"></script>
    <script src="scripts/SSMNController.js" charset="utf-8"></script>
    <script src="scripts/AdminController.js" charset="utf-8"></script>
    <script src="scripts/ProfileController.js" charset="utf-8"></script>
    <script src="scripts/InitiativeController.js" charset="utf-8"></script>
    <script src="scripts/InitViewController.js" charset="utf-8"></script>
    <script src="scripts/LoginController.js" charset="utf-8"></script>
    <script src="scripts/RegisterController.js" charset="utf-8"></script>
    <script src="scripts/PhaseController.js" charset="utf-8"></script>
    <script src="scripts/DataService.js" charset="utf-8"></script>
    <script src="scripts/UserService.js" charset="utf-8"></script>
    <script src="scripts/client.js" charset="utf-8"></script>
    <script src="scripts/BubbleController.js" charset="utf-8"></script>
    <script src="scripts/ssmnApp.bubbleComponent.js" charset="utf-8"></script>
    <script src="scripts/ProgressController.js" carset="utf-8"></script>
    <script src="scripts/MilestoneController.js" charset="utf-8"></script>
    <script src="scripts/ssmnApp.progressComponent.js" charset="utf-8"></script>
    <script src="scripts/ng-knob.js" charset="utf-8"></script>
    <base href="/" />
    <title>Sustainable Stillwater Data Visualization</title>
  </head>
  <body ng-controller="SSMNController as ssmn">

    <a href="/login" ng-if="!ssmn.data.loggedIn">Login</a>
    <a href="/logout" ng-if="ssmn.data.loggedIn" ng-click="ssmn.logout()">Logout</a>
    <!-- <md-button class="md-primary md-raised" ng-click="ssmn.login()">Login</md-button> -->
    <div ng-view>

    </div>

    <bubbles>

      <div id="canvas"></div>
      <md-Sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right">
        <md-toolbar layout="row" class="md-display-1 md-whiteframe-3dp" layout-padding>
            <span class="bold">{{initview.init.name}}</span>
            <md-button class="md-warn md-raised" ng-if="initview.admin" ng-click="initview.approve(initview.init)">Approve</md-button>
            <md-button class="md-warn md-raised" ng-if="initview.admin" ng-click="initview.delete(initview.init)">Delete</md-button>
        </md-toolbar>

        <div flex layout="row" ng-controller="ProgressController as pc">
          <md-sidenav flex="35" md-is-locked-open="true" class="md-whiteframe-3dp" layout-padding>
            <img src="https://static.wixstatic.com/media/05086b_e184c2229f21477e8f95d529d501ad84~mv2.jpg/v1/fill/w_244,h_161,al_c,q_80,usm_0.66_1.00_0.01/05086b_e184c2229f21477e8f95d529d501ad84~mv2.jpg" />
            <p>
              <span>{{initview.init.objectives}}</span>
            <br /><br />
              <span class="uppercase bold">Website: </span>
              <a href="{{initview.init.website}}">{{initview.init.website}}</a>
            <br /><br />
              <span class="uppercase bold">Contact:</span>
              {{initview.init.contactName}}
            <br /><br />
              <span class="uppercase bold">Email:</span>
              {{initview.init.contactEmail}}
            <br /><br />
              <span class="uppercase bold">Phone:</span>
              {{initview.init.contactPhone}}
            </p>
            <p ng-repeat="phase in pc.initPhases">
              <span class="md-title underline">{{phase.phaseName}}:</span><br />
              Percent Complete: {{phase.phaseValue}}%
            </p>
          </md-sidenav>

          <md-content layout="column" flex>

            <div ng-repeat="phase in pc.initPhases" layout-align="space-around center" class="md-whiteframe-1dp dial-container center">
              <h4 class="md-headline bold uppercase">{{phase.phaseName}}</h4>
              <ui-knob value="phase.phaseValue" options="phase.phaseOptions"></ui-knob><br />
              <div layout="row" layout-align="space-around center" class="top-padding">
                <div ng-repeat="mileStone in phase.mileStones track by $index"  >
                  <ui-knob value="mileStone.value" options="mileStone.msOptions"></ui-knob> <br />
                  <span class="regItal">{{mileStone.name}}</span>
                </div>
              </div>
            </div>

            <div>
              <section layout="row" layout-align="center">
                <md-button class="groupX left">Save Changes</md-button>
                <md-button class="groupX middle">Edit Milestones</md-button>
                <md-button class="groupX right" ng-click="initview.addPhase()">Add Phase</md-button>
              </section>
            </div>

          </md-content>
        </div>
      </md-Sidenav>
    </bubbles>


  </body>
</html>
